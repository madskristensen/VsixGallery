<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>@ViewData["Title"]</title>
    <meta name="description" content="@(ViewData["Description"] ?? "An alternative Visual Studio extension gallery for nightly builds.")" />
    <link rel="stylesheet" href="~/css/site.css" />

    <link rel="apple-touch-icon" href="~/img/icon-180x180.png?v=1" />
    <link rel="icon" type="image/png" sizes="32x32" href="~/img/icon-32x32.png?v=1" />
    <link rel="icon" type="image/png" sizes="16x16" href="~/img/icon-16x16.png?v=1" />
    <link rel="manifest" href="/site.webmanifest?v=1" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@@mkristensen" />
    <meta name="twitter:creator" content="@@mkristensen" />

    <meta property="og:title" content="@ViewData["Title"]" />
    <meta property="og:description" content="@(ViewData["Description"] ?? "An alternative Visual Studio extension gallery for nightly builds.")" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="@($"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}")" />
    <meta property="og:image" content="@($"{Context.Request.Scheme}://{Context.Request.Host}" + (ViewData["Image"] ?? "/img/icon-180x180.png"))" />
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="/" class="logo">
                <img src="~/img/icon-32x32.png" alt="" width="24" height="24" />
                <span>@ViewData["SiteName"]</span>
            </a>

            <nav>
                @if (!(bool)ViewData["HideSetupLink"]) {
                    <a href="~/feedguide">Setup Feed</a>
                }
                @if (!(bool)ViewData["HideCreateExtensionLink"]) {
                    <a href="https://devblogs.microsoft.com/visualstudio/getting-started-writing-visual-studio-extensions/" rel="noopener noreferrer">Learn</a>
                }
                @if (!(bool)ViewData["HideContributeLink"]) {
                    <a href="https://github.com/madskristensen/VsixGallery/" rel="noopener noreferrer">GitHub</a>
                }
            </nav>

            <div class="header-actions">
                <form action="~/search/" method="get">
                    <label for="search">Search</label>
                    <input type="search" id="search" value="@Context.Request.Query["q"]" name="q" placeholder="Search extensions..." required />
                    <button type="submit">Search</button>
                </form>

                @if (!(bool)ViewData["HideUploadGuideLink"]) {
                    <a href="~/devguide" class="cta-button">+ Add Extension</a>
                }
            </div>

            <input type="checkbox" id="hamburger-toggle" class="hamburger-toggle" aria-hidden="true" />
            <label for="hamburger-toggle" class="hamburger-btn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </label>

            <div class="mobile-menu">
                <form action="~/search/" method="get" class="mobile-search">
                    <label for="mobile-search">Search</label>
                    <input type="search" id="mobile-search" value="@Context.Request.Query["q"]" name="q" placeholder="Search extensions..." required />
                    <button type="submit">Search</button>
                </form>
                <nav>
                    @if (!(bool)ViewData["HideSetupLink"]) {
                        <a href="~/feedguide">Setup Feed</a>
                    }
                    @if (!(bool)ViewData["HideCreateExtensionLink"]) {
                        <a href="https://devblogs.microsoft.com/visualstudio/getting-started-writing-visual-studio-extensions/" rel="noopener noreferrer">Learn</a>
                    }
                    @if (!(bool)ViewData["HideContributeLink"]) {
                        <a href="https://github.com/madskristensen/VsixGallery/" rel="noopener noreferrer">GitHub</a>
                    }
                    @if (!(bool)ViewData["HideUploadGuideLink"]) {
                        <a href="~/devguide">+ Add Extension</a>
                    }
                </nav>
            </div>
        </div>
    </header>
    <label for="hamburger-toggle" class="mobile-menu-overlay" aria-hidden="true"></label>

    <main>
        <div class="container">
            @RenderBody()
        </div>
    </main>

    <footer>
        <div class="container">
            <p id="copyright">
                &copy; @DateTime.Now.Year <a href="https://www.madskristensen.net" rel="noopener noreferrer">Mads Kristensen</a>
                <span class="separator">â€¢</span>
                <a href="https://github.com/madskristensen/VsixGallery/" rel="noopener noreferrer">Source on GitHub</a>
            </p>
        </div>
    </footer>
</body>
</html>
